var returnVal;!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){"use strict";var n,i,s,a,o,l,f,c,r,d,u,p,g,v,m,h,y,b,C,w,B,$,N,k,x,_,S,P,z={bounce:{className:"bounce-effect"},slideRightLeft:{className:"slide-right-left-effect"},slideLeftRight:{className:"slide-left-right-effect"},basic:{className:"default-effect"},flip:{className:"flip-effect"},transformation:{className:"transformation-effect"},slideDownUp:{className:"slide-down-up-effect"},slideUpDown:{className:"slide-up-down-effect"}},j={style1:{className:"gsi-step-indicator triangle gsi-style-1"},style2:{className:"gsi-step-indicator triangle gsi-style-2"},style3:{className:"gsi-step-indicator triangle gsi-style-3"},style4:{className:"gsi-style-4"},style5:{className:"gsi-style-5"},style5_circle:{className:" gsi-style-5 gsi-number-circle"},style6:{className:"gsi-style-6"},style7_borderTop:{className:"gsi-style-7 border-top"},style7_borderBottom:{className:"gsi-style-7 border-bottom"},style7_borderLeft:{className:"gsi-style-7 border-left"},style7_borderRight:{className:"gsi-style-7 border-right"},style7_borderTop_circle:{className:"gsi-style-7 border-top gsi-number-circle"},style7_borderBottom_circle:{className:"gsi-style-7 border-bottom gsi-number-circle"},style7_borderLeft_circle:{className:"gsi-style-7 border-left gsi-number-circle"},style7_borderRight_circle:{className:"gsi-style-7 border-right gsi-number-circle"},style8:{className:"gsi-style-8"},style8_circle:{className:"gsi-style-8 gsi-number-circle"},style9:{className:"gsi-style-9"},style10:{className:"gsi-style-10"},style11:{className:"gsi-style-11"},style12:{className:"gsi-style-12"}},L={bottom:{position:"bottom",stepClass:"",containerClass:"tsf-bottom-container",navStepClass:"tsf-bottom-nav-step"},top:{position:"top",stepClass:"",containerClass:"",navStepClass:""},right:{position:"right",stepClass:"gsi-arrow-left gsi-vertical",containerClass:"tsf-left-container",navStepClass:"tsf-right-nav-step"},left:{position:"left",stepClass:"gsi-vertical",containerClass:"tsf-right-container",navStepClass:"tsf-left-nav-step"}},Q={all:{className:"gsi-step-no-available-all"},after_current:{className:"gsi-step-no-available-after-current"},before_current:{className:"gsi-step-no-available-before-current"},none:{className:".gsi-step-no-available-all,.gsi-step-no-available-after-current,.gsi-step-no-available-before-current"}},I=!1,q=!0,A=function(t,e){this.elem=t,this.$elem=jQuery(t),this.options=e,this.langArr};A.prototype={defaults:{loading_color1:"#3B7694",loading_color2:"#09181F",showLoading:!0,stepStyle:"style1",stepEffect:"basic",showStepNum:!0,stepTransition:!0,validation:!1,navPosition:"top",height:"auto",showButtons:!0,manySteps:!1,prevBtn:'<i class="fa fa-chevron-left"></i> PREV',nextBtn:'NEXT <i class="fa fa-chevron-right"></i>',finishBtn:"FINISH",disableSteps:"none",onBeforeNextButtonClick:function(t){},onAfterNextButtonClick:function(t){},onBeforePrevButtonClick:function(t){},onAfterPrevButtonClick:function(t){},onBeforeFinishButtonClick:function(t){},onAfterFinishButtonClick:function(t){}},init:function(){return(n=this).config=t.extend({},this.defaults,this.options),i=L[n.config.navPosition],s=z[n.config.stepEffect],l=j[n.config.stepStyle],n.defaults_values(),n.events(),n.loadScript(),n.config.validation&&!n.config.showButtons&&console.error("Validation and showButtons not be true same time."),this},loadScript:function(){"top"==n.config.navPosition||"bottom"==n.config.navPosition?(f=0,n.$elem.find(".tsf-nav li").each(function(){f+=jQuery(this).width()}),n.$elem.find(".tsf-nav").css("width",f+60)):(c=0,n.$elem.find(".tsf-nav li").each(function(){c+=jQuery(this).height()}),n.$elem.find(".tsf-nav").css("height",c)),n.$elem.closest(".tsf-wizard").each(function(){I=!0,jQuery(this).find(".tsf-nav-step li").eq(0).click()})},display:function(t){n.$elem.html(t)},defaults_values:function(){n.$elem.attr("data-step-effect",s.className),n.$elem.attr("data-step-index",0),n.$elem.find(".tsf-nav-step ul").removeClass(),n.$elem.find(".tsf-nav-step ul").addClass(l.className),!0===n.config.validation&&n.$elem.find(".tsf-nav-step ul").addClass("gsi-step-no-available"),1==n.config.stepTransition&&n.$elem.find(".tsf-nav-step ul").addClass("gsi-transition"),n.config.manySteps&&(n.$elem.find(".tsf-nav-step").addClass("tsf-nav-many-steps"),n.$elem.find(".tsf-nav-step ul").addClass("tsf-nav"),"left"==n.config.navPosition||"right"==n.config.navPosition?n.$elem.find(".tsf-nav-many-steps").css({height:n.config.height}):"top"!=n.config.navPosition&&"bottom"!=n.config.navPosition||t(window).width()<768&&(n.$elem.find(".tsf-nav").css("width","100%"),n.$elem.find(".tsf-nav-many-steps").css({height:"286px","overflow-y":"scroll"}))),n.config.showStepNum?n.$elem.removeClass("not-show-num"):n.$elem.addClass("not-show-num"),n.config.validation&&n.$elem.find(".tsf-step").each(function(t,e){jQuery(e).find(":input").attr("data-parsley-group","block-"+t)}),n.$elem.find(".tsf-nav-step").addClass(i.navStepClass),n.$elem.find(".tsf-nav-step ul").addClass(i.stepClass),n.$elem.find(".tsf-container").addClass(i.containerClass),n.$elem.addClass(i.position),n.$elem.find(".tsf-container .tsf-content").css({height:n.config.height,"overflow-y":"auto"}),n.$elem.find(".tsf-controls").css({display:1==n.config.showButtons?"block":"none"}),n.disableSteps(n.config.disableSteps),n.$elem.find('[data-type="prev"]').html(String(n.config.prevBtn)),n.$elem.find('[data-type="next"]').html(String(n.config.nextBtn)),n.$elem.find('[data-type="finish"]').html(String(n.config.finishBtn)),n.$elem.find('[data-type="next"]').click(function(t){if(n.config.validation&&(v=n.$elem.find(".tsf-step.active").index(),q=n.$elem.find(".tsf-content").parsley().validate({group:"block-"+v})),n.config.onBeforeNextButtonClick!==e&&n.config.onBeforeNextButtonClick(t,q),1==t.isDefaultPrevented())return!1;n.buttonClick(jQuery(this)),r=n.$elem.find(".tsf-nav-step li.current").index(),d=r,u=r+1,n.config.onAfterNextButtonClick!==e&&n.config.onAfterNextButtonClick(t,d,u,q)}),n.$elem.find('[data-type="prev"]').click(function(t){if(r=n.$elem.find(".tsf-nav-step li.current").index(),d=r,u=r-1,n.config.onBeforePrevButtonClick!==e&&n.config.onBeforePrevButtonClick(t,d,u),1==t.isDefaultPrevented())return!1;n.buttonClick(jQuery(this)),n.config.onAfterPrevButtonClick!==e&&n.config.onAfterPrevButtonClick(t,d,u)}),n.$elem.find('[data-type="finish"]').click(function(t){if(n.config.validation&&(v=n.$elem.data("step-index"),q=n.$elem.find(".tsf-content").parsley().validate({group:"block-"+v})),n.config.onBeforeFinishButtonClick!==e&&n.config.onBeforeFinishButtonClick(t,q),1==t.isDefaultPrevented())return!1;n.finishButtonClick(jQuery(this)),n.config.onAfterFinishButtonClick!==e&&n.config.onAfterFinishButtonClick(t,q)})},events:function(){n.$elem.find(".tsf-nav-step li").click(function(){p=jQuery(this),n.wizardNavStepClick(p,"nav-step")})},finishButtonClick:function(t){m=t.closest(".tsf-wizard"),n.config.validation&&(m.find(".tsf-step.active").find(".tsf-step-content"),v=n.$elem.find(".tsf-step.active").index(),q&&n.$elem.find(".tsf-content").submit())},buttonClick:function(t){m=t.closest(".tsf-wizard"),S=m.attr("data-step-index"),P=t.attr("data-type"),S="next"==P?parseInt(S)+1:parseInt(S)-1,n.config.validation&&"next"==P?(0==m.find(".tsf-step.active").find(".tsf-step-content").length&&(n.wizardBtnClick(S),n.wizardNavStepClick(t.closest(".tsf-wizard").find(".tsf-nav-step li").eq(S),"nav-btn")),q&&(n.wizardBtnClick(S),n.wizardNavStepClick(t.closest(".tsf-wizard").find(".tsf-nav-step li").eq(S),"nav-btn"))):(n.wizardBtnClick(S),n.wizardNavStepClick(t.closest(".tsf-wizard").find(".tsf-nav-step li").eq(S),"nav-btn"))},disableSteps:function(t){switch(g=Q[t],t){case"all":case"after_current":case"before_current":n.$elem.find(".tsf-nav-step ul").addClass(g.className);break;case"none":n.$elem.find(".tsf-nav-step ul").removeClass(g.className)}},wizardBtnClick:function(t){B=0==t?1:n.$elem.find(".tsf-nav-step li").length,$=!1,N=!1,k=n.$elem.find('.tsf-controls [data-type="prev"]'),x=n.$elem.find('.tsf-controls [data-type="next"]'),_=n.$elem.find('.tsf-controls [data-type="finish"]'),N=0==t,-1!=t&&(t>=B-1&&0!=t&&($=!0),N?k.hide():k.show(),$?(x.hide(),_.show()):(x.show(),_.hide()))},wizardNavStepClick:function(t,e){if(m=n.$elem,h=m.find(".tsf-nav-step li.current").index(),y=!1,"none"!==n.config.disableSteps)switch(n.config.disableSteps){case"all":y=!0;break;case"after_current":t.index()>h&&(y=!0);break;case"before_current":t.index()<h&&(y=!0);break;case"none":y=!1}if(!I){if(h<t.index()&&t.parent().hasClass("gsi-step-no-available")&&"nav-step"==e)return!1;if(y&&"nav-step"==e)return!1}I=!1,m.find(".tsf-nav-step li").removeClass("current"),t.addClass("current"),b=m.find(".tsf-nav-step li.current").index(),C=t.data("target"),w=s.className,m.find(".tsf-content>.tsf-step").removeClass("active").removeClass(w),m.find(".tsf-content>."+C).addClass("active").addClass(w),m.attr("data-step-index",t.index()),n.config.manySteps&&void 0!==t.position()&&("top"==n.config.navPosition||"bottom"==n.config.navPosition?(a=Math.round(t.position().left),jQuery(window).width()>1e3?(o=m.find(".tsf-nav").width()-m.find(".tsf-nav-many-steps").width(),a=o<a?o:0):(m.find(".tsf-nav").width()-m.find(".tsf-nav-many-steps").width()-a<60?a=m.find(".tsf-nav-step li:last-child").position().left-m.find(".tsf-nav-many-steps").width()+m.find(".tsf-nav-step li:last-child").width():a-=80,0==b&&(a=0)),m.find(".tsf-nav").css("transform","translateX(-"+a+"px)")):(_top=Math.round(t.position().top)+60,o=m.find(".tsf-nav").height()-m.find(".tsf-nav-many-steps").height(),_allCount=m.find(".tsf-nav li").length,_avgHeight=Math.round(m.find(".tsf-nav").height()/_allCount),_shownCount=Math.round(parseInt(n.config.height.replace("px",""),0)/_avgHeight),_notShownCount=_allCount-b,h>b?((b=b-_shownCount+2)<0&&(b=0),_top=m.find(".tsf-nav li").eq(b).position().top):_notShownCount>_shownCount?((b-=1)<0&&(b=0),_top=m.find(".tsf-nav li").eq(b).position().top):(b=_allCount-_shownCount,_top=m.find(".tsf-nav li").eq(b).position().top),m.find(".tsf-nav").css("transform","translateY(-"+_top+"px)"))),n.wizardBtnClick(t.index())},show_loading:function(){1==n.config.showLoading&&(n.$elem.css({position:"relative"}),n.display('<div class="bal-loading-container"><div class="bal-loading"><div class="bal-loading-bounce-1" style="background-color:'+n.config.loading_color1+'"></div><div class="bal-loading-bounce-2" style="background-color:'+n.config.loading_color2+'"></div></div></div>'))},getCurrentIndex:function(){return n.$elem.find(".tsf-nav-step li.current").index()},nextButtonLabel:function(t){n.$elem.find('.tsf-controls [data-type="next"]').html(t)},prevButtonLabel:function(t){n.$elem.find('.tsf-controls [data-type="prev"]').html(t)},finishButtonLabel:function(t){n.$elem.find('.tsf-controls [data-type="finish"]').html(t)},goto:function(t){n.getCurrentIndex()<t&&1==n.config.validation?console.error("Validation is true.You can not go to the next step"):(n.wizardBtnClick(t),n.wizardNavStepClick(n.$elem.find(".tsf-nav-step li").eq(t),"nav-btn"))},setDisableSteps:function(t){n.config.disableSteps=t,n.disableSteps(t)},nextStep:function(){S=n.getCurrentIndex()+1,n.goto(S)},previousStep:function(){S=n.getCurrentIndex()-1,n.goto(S<0?0:S)},validate:function(){n.config.validation&&(q=n.$elem.find(".tsf-content").parsley().validate({group:"block-"+n.getCurrentIndex()}))}},t.fn.tsfWizard=function(t){var e;return this.nextButtonLabel=function(t){e.nextButtonLabel(t)},this.prevButtonLabel=function(t){e.prevButtonLabel(t)},this.finishButtonLabel=function(t){e.finishButtonLabel(t)},this.getCurrentIndex=function(){return e.getCurrentIndex()},this.goto=function(t){e.goto(t)},this.setDisableSteps=function(t){e.setDisableSteps(t)},this.nextStep=function(){e.nextStep()},this.previousStep=function(){e.previousStep()},this.validate=function(){e.validate()},this.each(function(){(e=new A(this,t)).init()})}}),jQuery.fn.hasParent=function(t){return 1==jQuery(this).parents(t).length};